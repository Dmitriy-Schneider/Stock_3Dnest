<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>База данных склада - HPMCut</title>
    <link rel="stylesheet" href="warehouse.css">
</head>
<body>
    <div class="container">
        <!-- Левая панель с фильтрами -->
        <aside class="sidebar">
            <h2>Фильтры</h2>

            <!-- Выбор базы данных -->
            <div class="filter-group">
                <label for="database">База данных:</label>
                <select id="database">
                    <option value="">Загрузка...</option>
                </select>
            </div>

            <!-- Тип заготовки -->
            <div class="filter-group">
                <label>Тип заготовки:</label>
                <div class="radio-group">
                    <label>
                        <input type="radio" name="type" value="" checked>
                        Все
                    </label>
                    <label>
                        <input type="radio" name="type" value="block">
                        Блок
                    </label>
                    <label>
                        <input type="radio" name="type" value="circle">
                        Круг
                    </label>
                    <label>
                        <input type="radio" name="type" value="sheet">
                        Лист
                    </label>
                    <label>
                        <input type="radio" name="type" value="strip">
                        Полоса
                    </label>
                </div>
            </div>

            <!-- Марка стали -->
            <div class="filter-group">
                <label for="grade">Марка стали:</label>
                <input type="text" id="grade" placeholder="Например: 1.2311">
            </div>

            <!-- Фильтры для блоков -->
            <div class="filter-group" id="block-filters">
                <label>Минимальные размеры блока (мм):</label>
                <div class="dimension-inputs">
                    <input type="number" id="block-x" placeholder="X">
                    <span>×</span>
                    <input type="number" id="block-y" placeholder="Y">
                    <span>×</span>
                    <input type="number" id="block-z" placeholder="Z">
                </div>
                <small>Деталь влезет независимо от поворота</small>
            </div>

            <!-- Фильтры для кругов -->
            <div class="filter-group" id="circle-filters" style="display: none;">
                <label for="diameter">Диаметр (мм):</label>
                <input type="number" id="diameter" placeholder="Например: 18">
                <label for="circle-tolerance">Допуск диаметра (±мм):</label>
                <input type="number" id="circle-tolerance" value="5" min="0">
                <small>Показать круги диаметром ±5мм</small>
            </div>

            <!-- Фильтры для листов -->
            <div class="filter-group" id="sheet-filters" style="display: none;">
                <label for="sheet-z">Толщина листа (мм):</label>
                <input type="number" id="sheet-z" placeholder="Например: 3.5">
                <label for="sheet-tolerance">Допуск толщины (±мм):</label>
                <input type="number" id="sheet-tolerance" value="0.5" min="0" step="0.1">
                <small>Фильтр работает только по толщине с допуском (как у кругов по диаметру)</small>
            </div>

            <!-- Фильтры для полос -->
            <div class="filter-group" id="strip-filters" style="display: none;">
                <label for="strip-z">Толщина полосы (мм):</label>
                <input type="number" id="strip-z" placeholder="Например: 15">
                <label for="strip-tolerance">Допуск толщины (±мм):</label>
                <input type="number" id="strip-tolerance" value="0.5" min="0" step="0.1">
                <small>Фильтр работает только по толщине с допуском (как у кругов по диаметру)</small>
            </div>

            <!-- Кнопки -->
            <div class="filter-actions">
                <button id="btn-search" class="btn btn-primary">Поиск</button>
                <button id="btn-reset" class="btn btn-secondary">Сбросить</button>
            </div>
        </aside>

        <!-- Правая панель с таблицей -->
        <main class="content">
            <div class="table-header">
                <h1>База данных склада</h1>
                <div class="stats">
                    <span id="stats-text">Загрузка...</span>
                </div>
            </div>

            <!-- Таблица результатов -->
            <div class="table-container">
                <table id="warehouse-table">
                    <thead>
                        <tr>
                            <th data-sort="full_name">Марка стали <span class="sort-icon"></span></th>
                            <th data-sort="type">Тип <span class="sort-icon"></span></th>
                            <th data-sort="size_text">Размеры <span class="sort-icon"></span></th>
                            <th data-sort="weight">Вес (кг) <span class="sort-icon"></span></th>
                            <th data-sort="quantity">Кол-во <span class="sort-icon"></span></th>
                        </tr>
                    </thead>
                    <tbody id="table-body">
                        <tr>
                            <td colspan="5" class="loading">Загрузка данных...</td>
                        </tr>
                    </tbody>
                </table>
            </div>

            <!-- Пагинация -->
            <div class="pagination">
                <button id="btn-prev" class="btn btn-pagination" disabled>← Назад</button>
                <span id="page-info">Страница 1</span>
                <button id="btn-next" class="btn btn-pagination" disabled>Вперёд →</button>
            </div>
        </main>
    </div>

    <script src="warehouse.js"></script>
</body>
</html>
